Задание 1: Анализ логов веб-сервера
  
Задача 1: Используя awk, извлеките только IP-адреса и коды состояния (например, 200, 404)
и сохраните их в новый файл status_codes.txt.

awk '{print $1, $8}' access.log > status_codes.txt

Задача 2: С помощью sed найдите все строки с ошибками 4xx (например, 404) и замените
код состояния на фразу "CLIENT_ERROR", сохранив вывод в файл errors.log.

sed -n '/ 4[0-9][0-9] /s/4[0-9][0-9]/CLIENT_ERROR/p' access.log > errors.log

Задача 3: Напишите цикл for, который для каждого уникального IP-адреса из
файла status_codes.txt подсчитает количество запросов с помощью grep и wc -l.

#!/bin/bash

sort status_codes.txt | uniq -w12 > uniq_ips.txt # создаю файл с уникальными IP-адресами
while ips read: do # читаю его построчно
    count=$(grep -c "$ip" status_codes.txt) # считаю, сколько уникальные IP-адреса встречаются в исходном файле
    echo '$ip - $count запросов' # вывожу ответ
  done < uniq_ips.txt # сохраняю файл

Задание 2: Анализ текстовых данных
Исходные данные: Файл text.txt с произвольным английским текстом.
Задачи 1: Используя sed, приведите весь текст к нижнему регистру и удалите все знаки
препинания.

sed 's/[[:punct:]]//g; s/[A-Z]/\L&/g' text.txt > cleaned_text.txt

Задание 2: Используя awk, подсчитайте частоту каждого слова и выведите ТОП-5 самых часто
встречающихся слов в формате "Слово: Количество".

words=$(awk '{
    for (i = 1; i <= NF; i++) { # считаем количество слов в строке
        if ($i != '') words[$i]++ # если слово не пустое, то увеличиваю его счётчик на один
    }
}
END { # команды после итерации по файлу
    for (word in words) print words[word], word
}' text.txt | sort -nr | head -5 | awk '{print $2 ":" $1}') # сортируем в обратном порядке (от большего к меньшему) и выводим первые 5 в указанном формате

Задание 3: напишите цикл for, который прочитает 5 самых частых слов и с помощью команды curl отправит запрос в свободный словарный API
(например, dictionaryapi.com) для получения их определений.

for word in $word; do
    curl "https://api.dictionaryapi.dev/api/v2/entries/en/$word"
    echo ""
done > definitions.json

